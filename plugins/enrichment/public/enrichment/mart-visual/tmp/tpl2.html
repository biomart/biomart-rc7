<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Mart Visual Enrichment</title>
    <% include ../partials/environment/head %>
</head>
<body>
    <script type="application/json" id="enrichment-data">
    <% include ../partials/environment/enrichment-data %>
    </script>
    <div  ng-app="martVisualEnrichment">
        <div class="container-fluid" ng-controller="MartVisualCtrl">
            <tabset>
                <tab ng-repeat="mvTab in mvTabs">
                  <tab-heading><a href="">{{mvTab.title}}</a></tab-heading>
                    <div class="row">
                        <div class="col-md-3 left-panel" >
                            <div ng-controller="ResultsTableCtrl">
                                <div>
                                    <input class="form-control" type="text" ng-model="pattern"
                                           ng-change="filterByDescription(pattern)"
                                           ng-trim="false"
                                           placeholder="Search by description...">
                                </div>
                                <hr />
                                <div class="mv-table-container">
                                    <mv-results-table></mv-results-table>
                                </div>
                            </div>
                            <hr />

            <!--
                            <div class="controls" ng-controller="ControlPanelCtrl">
                                <mvRange min="minScore" max="maxScore" step="0.01" />
                                <mvRange min="10" max="300" step="1" />
                                <mvRange min="10" max="300" step="1" />
                                <mvColor id="annotation-color">
                                <mvColor id="gene-color">

                            </div>
                        </div>
                        <div id="visualization" class="col-md-9 right-panel">
                        </div>
            -->

                        </div>

                        <div class="col-md-9 right-panel" ng-controller="GraphCtrl">
                            <mv-graph nodes="nodes" edges="edges" filter-pattern="search"></mv-graph>
                        </div>
                    </div>
                </tab>
            </tabset>
    </div>

    <% ngPartials.forEach(function (sc) { %>
      <script type="text/ng-template" id="<%= sc.id -%>">
      <%= include sc.path %>
      </script>
   <% }) %>

    <!-- In production use:
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
    -->
    <% include ../partials/environment/tail %>
</body>
</html>
